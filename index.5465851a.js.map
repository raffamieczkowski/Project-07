{"mappings":"AAAA,MAAMA,EAAeC,SAASC,cAAc,gBACtCC,EAAWF,SAASC,cAAc,aAClCE,EAAgBH,SAASC,cAAc,2BAC7CF,EAAaK,iBAAiB,SAAS,KACrCF,EAASG,UAAUC,OAAO,gBAE5BH,EAAcC,iBAAiB,SAAS,KACtCF,EAASG,UAAUE,IAAI,gBCPlB,MAAMC,EAAU,mCCEvBC,eAAeC,EAAUC,GACvB,IACE,MAAMC,QAAiBC,MAAM,sCAAsCF,aAAmBH,oBAChFM,QAAcF,EAASG,OAE7B,OADeD,EAAME,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,KAK5D,CAHE,MAAOC,GAEP,OADAC,QAAQD,MAAMA,GACP,EACT,CACF,CCVA,MACME,EAAWvB,SAASC,cAAc,iBAExCQ,iBACE,IACE,MAAMG,QAAiBC,MAAM,0EAA0BL,YAGjDgB,SAFaZ,EAASG,QAERU,QAEdC,EAAgBF,EAAOP,KAAIH,GAASJ,EAAUI,EAAMa,MACpDX,QAAeY,QAAQC,IAAIH,GAE3BI,EAASN,EAAOP,KAAI,CAACH,EAAOiB,KAChCjB,EAAME,OAASA,EAAOe,GACf,sHAEHjB,EAAMkB,oGAGqBlB,EAAMmB,2DACNnB,EAAME,YAAYF,EAAMoB,aAAaC,MAAM,EAAG,0CAG5Ef,KAAK,IAERG,EAASa,mBAAmB,YAAaN,EAG3C,CAFE,MAAOT,GACPC,QAAQD,MAAMA,EAChB,CACF,CAEAgB","sources":["src/js/modal-movie.js","src/js/api-key.js","src/js/genres.js","src/js/movies.js"],"sourcesContent":["const openModalBtn = document.querySelector('.movies-list');\r\nconst backdrop = document.querySelector('.backdrop');\r\nconst closeModalBtn = document.querySelector('.modal-movie__btn-close');\r\nopenModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.remove('is-hidden');\r\n});\r\ncloseModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.add('is-hidden');\r\n});","export const API_KEY = '4c48f56c563cad897bb4af72634cd546';\n","import { API_KEY } from '../js/api-key';\n\nasync function getGenres(movieId) {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    const movie = await response.json();\n    const genres = movie.genres.map(genre => genre.name).join(', ');\n    return genres;\n  } catch (error) {\n    console.error(error);\n    return '';\n  }\n}\n\nexport { getGenres };","import { API_KEY } from \"./api-key\";\nimport { getGenres } from \"./genres\";\nconst trendingUrl = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\nconst moviesEL = document.querySelector('.movies-list');\n\nasync function fetchMovies() {\n  try {\n    const response = await fetch(`${trendingUrl}&api_key=${API_KEY}&page=1`);\n    const data = await response.json();\n\n    const movies = data.results;\n\n    const genrePromises = movies.map(movie => getGenres(movie.id));\n    const genres = await Promise.all(genrePromises);\n\n    const markup = movies.map((movie, index) => {\n      movie.genres = genres[index];\n      return `<div class=\"movie__card\">\n        <a href=\"#\"> <img class=\"movie__poster\" src=\"https://image.tmdb.org/t/p/original${\n          movie.poster_path\n        }\" /></a>\n        <ul class=\"movie__short-descr\">\n          <li class=\"movie__title\">${movie.original_title}</li>\n          <li class=\"movie__genre\">${movie.genres} | ${movie.release_date.slice(0, 4)}</li>\n        </ul>\n      </div>`;\n    }).join('');\n\n    moviesEL.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfetchMovies();"],"names":["$a898f20bd771b561$var$openModalBtn","document","querySelector","$a898f20bd771b561$var$backdrop","$a898f20bd771b561$var$closeModalBtn","addEventListener","classList","remove","add","$a576d362b369eae0$export$a9861bd62f48e142","async","$bc36aade2b53bb55$export$c5604fa8028da00","movieId","response","fetch","movie","json","genres","map","genre","name","join","error","console","$a1f1a4b90320e243$var$moviesEL","movies","results","genrePromises","id","Promise","all","markup","index","poster_path","original_title","release_date","slice","insertAdjacentHTML","$a1f1a4b90320e243$var$fetchMovies"],"version":3,"file":"index.5465851a.js.map"}