function e(e){!function(e){const t=document.querySelector(".modal-movie"),n=document.querySelector(".backdrop"),o=`\n    <div class="modal-movie__poster-box">\n      <img class="modal-movie__poster" src="https://image.tmdb.org/t/p/original${e.poster_path}" alt="${e.original_title}" />\n    </div>\n    <button class="modal-movie__btn-close">&times\n    </button>\n\n    <div class="modal-movie__info">\n      <h2 class="modal-movie__title">${e.title}</h2>\n\n      <ul class="modal-movie__list">\n        <li class="modal-movie__item modal-movie__item--label">vote / votes</li>\n        <li class="modal-movie__item modal-movie__item--value">\n          <span class="modal-movie__vote">${e.vote_average.toFixed(1)}</span> <span>/ </span><span>${e.vote_count}</span>\n        </li>\n        <li class="modal-movie__item modal-movie__item--label">popularity</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__popularity">${e.popularity.toFixed(1)}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">original title</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__original-title">${e.original_title}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">genre</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__genre"></span></li>\n      </ul>\n      <div class="modal-movie__description">\n        <h3 class="modal-movie__about">about</h3>\n        <p class="modal-movie__text">${e.overview}</p>\n      </div>\n\n      <div class="modal-movie__btns">\n        <button class="modal-movie__btn-watched">add to watched</button>\n        <button class="modal-movie__btn-queue" data-id=${e.id}>add to queue</button>\n      </div>\n    </div>\n  `;function a(){n.classList.add("is-hidden")}t.innerHTML=o,t.querySelector(".modal-movie__btn-close").addEventListener("click",(()=>{a()})),n.addEventListener("click",(e=>{e.target===n&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()}))}(e)}const t="4c48f56c563cad897bb4af72634cd546",n=document.querySelector(".result__container");function o(t){n.innerHTML="",t.forEach((t=>{const o=function(t){const n=document.createElement("div");n.classList.add("movie__card");const o=document.createElement("a");o.href="#";const a=document.createElement("img");a.classList.add("movie__poster"),a.src=`https://image.tmdb.org/t/p/original${t.poster_path}`,o.appendChild(a);const i=document.createElement("ul");i.classList.add("movie__short-descr");const s=document.createElement("li");s.classList.add("movie__title"),s.textContent=t.original_title,i.appendChild(s);const l=document.createElement("li");return l.classList.add("movie__genre"),l.textContent=`${t.genres} | ${t.release_date.slice(0,4)}`,i.appendChild(l),n.appendChild(o),n.appendChild(i),a.addEventListener("click",(n=>{n.preventDefault();document.querySelector(".backdrop").classList.remove("is-hidden"),e(t)})),n}(t);n.appendChild(o)}))}async function a(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${t}&language=en-US`),o=await n.json();return o.genres.map((e=>e.name)).join(", ")}catch(e){return console.error(e),""}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header__form"),o=document.querySelector(".form__input"),a=document.querySelector(".form__button");function i(e){e.preventDefault();const a=o.value.trim();""!==a?async function(e){const n=`https://api.themoviedb.org/3/search/movie?api_key=${t}&query=${encodeURIComponent(e)}`;(async()=>{l(n)})()}(a):(n.innerHTML="",c())}e.addEventListener("submit",i),a.addEventListener("click",i)}));let i=1;function s(e,t,n){const o=document.createElement("button");return o.textContent=e,o.disabled=t,n&&o.classList.add("pagination-button--current"),o.classList.add("pagination-button"),o}async function l(e){try{const t=await fetch(`${e}&page=${i}`),n=await t.json(),c=Math.ceil(n.total_pages/20),d=n.results.map((e=>a(e.id))),m=await Promise.all(d);n.results.forEach(((e,t)=>{e.genres=m[t]})),o(n.results),function(e,t){const n=document.querySelector(".pagination-container");n.innerHTML="";const o=s("<",1===i,!1);if(o.addEventListener("click",(async()=>{i--,await l(t)})),o.classList.add("pagination-button--previous"),n.appendChild(o),e<=7)for(let o=1;o<=e;o++){const e=s(o.toString(),o===i,o===i);e.addEventListener("click",(async()=>{i=o,await l(t)})),n.appendChild(e)}else{const o=s("1",1===i,1===i);o.addEventListener("click",(async()=>{i=1,await l(t)})),n.appendChild(o);let a=Math.max(2,i-2),c=Math.min(e-1,i+2);i<=3?c=5:i>=e-2&&(a=e-4),a>2&&n.appendChild(s("...",!1));for(let e=a;e<=c;e++){const o=s(e.toString(),e===i,e===i);o.addEventListener("click",(async()=>{i=e,await l(t)})),n.appendChild(o)}c<e-1&&n.appendChild(s("...",!1));const d=s(e.toString(),i===e,i===e);d.addEventListener("click",(async()=>{i=e,await l(t)})),n.appendChild(d)}const a=s(">",i===e,!1);a.addEventListener("click",(async()=>{i++,await l(t)})),a.classList.add("pagination-button--next"),n.appendChild(a)}(c,e)}catch(e){console.log("Error",e)}}async function c(){l(`https://api.themoviedb.org/3/trending/movie/day?language=en-US&api_key=${t}`)}c();const d=new class{getFromLS(){let e;return e=null===localStorage.getItem("movies")?[]:JSON.parse(localStorage.getItem("movies")),e}saveIntoLS(e){const t=this.getFromLS();t.push(e),localStorage.setItem("movies",JSON.stringify(t))}};document.addEventListener("click",(e=>{if(e.target.classList.contains("modal-movie__btn-queue")){const t=e.target.offsetParent,n={id:e.target.dataset.id,name:t.querySelector(".modal-movie__title").textContent,poster:t.querySelector(".modal-movie__poster").src};d.saveIntoLS(n)}})),localStorage.clear();const m=document.querySelector(".header__toggle"),r=document.body;localStorage.getItem("darkModeEnabled")&&r.classList.add("dark-mode"),m.addEventListener("click",(e=>{e.preventDefault(),r.classList.toggle("dark-mode");const t=r.classList.contains("dark-mode");localStorage.setItem("darkModeEnabled",t)}));const u=document.querySelector(".cookies"),_=document.querySelector("#accept-cookies");document.addEventListener("DOMContentLoaded",(function(){sessionStorage.getItem("cookiesAccepted")?u.style.display="none":setTimeout((()=>{u.style.display="block"}),3e3)})),_.addEventListener("click",(function(){u.style.display="none",sessionStorage.setItem("cookiesAccepted",!0)}));
//# sourceMappingURL=index.6e264e7e.js.map
