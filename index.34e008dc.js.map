{"mappings":"AAAO,MAAMA,EAAU,mCCEvBC,eAAeC,EAAUC,GACvB,IACE,MAAMC,QAAiBC,MAAM,sCAAsCF,aAAmBH,oBAChFM,QAAcF,EAASG,OAE7B,OADeD,EAAME,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,KAK5D,CAHE,MAAOC,GAEP,OADAC,QAAQD,MAAMA,GACP,EACT,CACF,CCTA,MACME,EAAWC,SAASC,cAAc,iBAExChB,iBACE,IACE,MAAMG,QAAiBC,MAAM,0EAA0BL,YAGjDkB,SAFad,EAASG,QAERY,QAEdC,EAAgBF,EAAOT,KAAIH,GAASJ,EAAUI,EAAMe,MACpDb,QAAec,QAAQC,IAAIH,GAEjCF,EAAOM,SAAQ,CAAClB,EAAOmB,KACrBnB,EAAME,OAASA,EAAOiB,GACtB,MAAMC,EAAS,sHAEXpB,EAAMqB,oGAGqBrB,EAAMsB,2DACNtB,EAAME,YAAYF,EAAMuB,aAAaC,MAAM,EAAG,uCAG7Ef,EAASgB,mBAAmB,YAAaL,EAAA,GAI7C,CAFE,MAAOb,GACPC,QAAQD,MAAMA,EAChB,CACF,CAEAmB","sources":["src/js/api-key.js","src/js/genres.js","src/index.js"],"sourcesContent":["export const API_KEY = '4c48f56c563cad897bb4af72634cd546';\n","import { API_KEY } from '../js/api-key';\n\nasync function getGenres(movieId) {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    const movie = await response.json();\n    const genres = movie.genres.map(genre => genre.name).join(', ');\n    return genres;\n  } catch (error) {\n    console.error(error);\n    return '';\n  }\n}\n\nexport { getGenres };\n","import { API_KEY } from './js/api-key';\r\nimport { getGenres } from './js/genres';\r\n\r\nconst trendingUrl = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\r\nconst moviesEL = document.querySelector('.movies-list');\r\n\r\nasync function fetchMovies() {\r\n  try {\r\n    const response = await fetch(`${trendingUrl}&api_key=${API_KEY}&page=1`);\r\n    const data = await response.json();\r\n\r\n    const movies = data.results;\r\n\r\n    const genrePromises = movies.map(movie => getGenres(movie.id));\r\n    const genres = await Promise.all(genrePromises);\r\n\r\n    movies.forEach((movie, index) => {\r\n      movie.genres = genres[index];\r\n      const markup = `<div class=\"movie__card\">\r\n        <a href=\"#\"> <img class=\"movie__poster\" src=\"https://image.tmdb.org/t/p/original${\r\n          movie.poster_path\r\n        }\" /></a>\r\n        <ul class=\"movie__short-descr\">\r\n          <li class=\"movie__title\">${movie.original_title}</li>\r\n          <li class=\"movie__genre\">${movie.genres} | ${movie.release_date.slice(0, 4)}</li>\r\n        </ul>\r\n      </div>`;\r\n      moviesEL.insertAdjacentHTML('beforeend', markup);\r\n    });\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nfetchMovies();\r\n"],"names":["$a576d362b369eae0$export$a9861bd62f48e142","async","$bc36aade2b53bb55$export$c5604fa8028da00","movieId","response","fetch","movie","json","genres","map","genre","name","join","error","console","$1cb340a3d58589e5$var$moviesEL","document","querySelector","movies","results","genrePromises","id","Promise","all","forEach","index","markup","poster_path","original_title","release_date","slice","insertAdjacentHTML","$1cb340a3d58589e5$var$fetchMovies"],"version":3,"file":"index.34e008dc.js.map"}