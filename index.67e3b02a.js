function e(e){return null==e.poster_path?"https://img.freepik.com/darmowe-zdjecie/kolaz-w-tle-filmu_23-2149876032.jpg?w=740&t=st=1685302200~exp=1685302800~hmac=8c53b6db3490cd10fa6f9535b417ac3d7181839ed50758564abb2784f02a1611":`https://image.tmdb.org/t/p/original${e.poster_path}`}function t(t){!function(t){const n=document.querySelector(".modal-movie"),o=document.querySelector(".backdrop"),a=`\n    <div class="modal-movie__poster-box">\n      <img class="modal-movie__poster" src=${e(t)} alt="${t.original_title}" />\n    </div>\n    <button class="modal-movie__btn-close">&times\n    </button>\n\n    <div class="modal-movie__info">\n      <h2 class="modal-movie__title">${t.title}</h2>\n\n      <ul class="modal-movie__list">\n        <li class="modal-movie__item modal-movie__item--label">vote / votes</li>\n        <li class="modal-movie__item modal-movie__item--value">\n          <span class="modal-movie__vote">${t.vote_average.toFixed(1)}</span> <span>/ </span><span>${t.vote_count}</span>\n        </li>\n        <li class="modal-movie__item modal-movie__item--label">popularity</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__popularity">${t.popularity.toFixed(1)}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">original title</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__original-title">${t.original_title}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">genre</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__genre">${t.genres}</span></li>\n      </ul>\n      <div class="modal-movie__description">\n        <h3 class="modal-movie__about">about</h3>\n        <p class="modal-movie__text">${t.overview}</p>\n      </div>\n    <div class="modal-movie__btns">\n    <div class="modal-movie__box"> \n  <button class="modal-movie__btn-watched">add to watched</button>\n  <button class="modal-movie__btn-queue" data-id=${t.id}>add to queue</button>  \n  </div>     \n  <div class="modal-movie__trailer-box"> \n  <button class="modal-movie__btn-trailer" data-id=${t.id} data-btn=watchTrailer type="button">ðŸŽ¬ <span class="modal-movie__trailer-text">watch trailer</span></button>   \n  </div>        \n</div>  \n    </div>\n  `;function i(){o.classList.add("is-hidden")}n.innerHTML=a,n.querySelector(".modal-movie__btn-close").addEventListener("click",(()=>{i()})),o.addEventListener("click",(e=>{e.target===o&&i()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&i()}))}(t)}const n="4c48f56c563cad897bb4af72634cd546",o=document.querySelector(".result__container");function a(n){o.innerHTML="",n.forEach((n=>{const a=function(n){const o=document.createElement("div");o.classList.add("movie__card");const a=document.createElement("a");a.href="#";const i=document.createElement("img");i.classList.add("movie__poster"),i.src=`${e(n)}`,a.appendChild(i);const s=document.createElement("ul");s.classList.add("movie__short-descr");const l=document.createElement("li");l.classList.add("movie__title"),l.textContent=n.original_title,s.appendChild(l);const d=document.createElement("li");return d.classList.add("movie__genre"),d.textContent=`${n.genres} | ${n.release_date.slice(0,4)}`,s.appendChild(d),o.appendChild(a),o.appendChild(s),i.addEventListener("click",(e=>{e.preventDefault();document.querySelector(".backdrop").classList.remove("is-hidden"),t(n)})),o}(n);o.appendChild(a)}))}async function i(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${n}&language=en-US`),o=await t.json();return o.genres.map((e=>e.name)).join(", ")}catch(e){return console.error(e),""}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header__form"),t=document.querySelector(".form__input"),a=document.querySelector(".form__button");function i(e){e.preventDefault();const a=t.value.trim();""!==a?async function(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=${n}&query=${encodeURIComponent(e)}`;c(1),(async()=>{d(t)})()}(a):(o.innerHTML="",c(1),r())}e.addEventListener("submit",i),a.addEventListener("click",i)}));let s=1;function l(e,t,n){const o=document.createElement("button");return o.textContent=e,o.disabled=t,o.addEventListener("click",(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})})),n&&o.classList.add("pagination-button--current"),o.classList.add("pagination-button"),o}async function d(e){try{const t=await fetch(`${e}&page=${s}`),n=await t.json(),o=Math.ceil(n.total_pages/20),c=n.results.map((e=>i(e.id))),r=await Promise.all(c);n.results.forEach(((e,t)=>{e.genres=r[t]})),a(n.results),function(e,t){const n=document.querySelector(".pagination-container");n.innerHTML="";const o=l("ðŸ¡¨",1===s,!1);if(o.addEventListener("click",(async()=>{s--,await d(t)})),o.classList.add("pagination-button--previous"),n.appendChild(o),e<=7)for(let o=1;o<=e;o++){const e=l(o.toString(),o===s,o===s);e.addEventListener("click",(async()=>{s=o,await d(t)})),n.appendChild(e)}else{if(window.screen.width>=768){const e=l("1",1===s,1===s);e.addEventListener("click",(async()=>{s=1,await d(t)})),n.appendChild(e)}let o=Math.max(2,s-2),a=Math.min(e-1,s+2);window.screen.width<768&&(o=Math.max(1,s-2),a=Math.min(e,s+2)),s<=3?a=5:s>=e-2&&(o=e-4),window.screen.width>=768&&o>2&&n.appendChild(l("...",!0));for(let e=o;e<=a;e++){const o=l(e.toString(),e===s,e===s);o.addEventListener("click",(async()=>{s=e,await d(t)})),n.appendChild(o)}if(window.screen.width>=768){a<e-1&&n.appendChild(l("...",!0));const o=l(e.toString(),s===e,s===e);o.addEventListener("click",(async()=>{s=e,await d(t)})),n.appendChild(o)}}const a=l("ðŸ¡ª",s===e,!1);a.addEventListener("click",(async()=>{s++,await d(t)})),a.classList.add("pagination-button--next"),n.appendChild(a)}(o,e)}catch(e){console.log("Error",e)}}function c(e){s=e}async function r(){d(`https://api.themoviedb.org/3/trending/movie/day?language=en-US&api_key=${n}`)}r();const m=new class{getFromLS(){let e;return e=null===localStorage.getItem("movies")?[]:JSON.parse(localStorage.getItem("movies")),e}saveIntoLS(e){const t=this.getFromLS();t.push(e),localStorage.setItem("movies",JSON.stringify(t))}};document.addEventListener("click",(e=>{if(e.target.classList.contains("modal-movie__btn-queue")){const t=e.target.offsetParent,n={id:e.target.dataset.id,name:t.querySelector(".modal-movie__title").textContent,poster:t.querySelector(".modal-movie__poster").src};m.saveIntoLS(n)}})),localStorage.clear();const u=document.querySelector(".header__toggle"),_=document.body;localStorage.getItem("darkModeEnabled")&&_.classList.add("dark-mode"),u.addEventListener("click",(e=>{e.preventDefault(),_.classList.toggle("dark-mode");const t=_.classList.contains("dark-mode");localStorage.setItem("darkModeEnabled",t)}));const v=document.querySelector(".cookies"),p=document.querySelector("#accept-cookies");document.addEventListener("DOMContentLoaded",(function(){sessionStorage.getItem("cookiesAccepted")?v.style.display="none":setTimeout((()=>{v.style.display="block"}),3e3)})),p.addEventListener("click",(function(){v.style.display="none",sessionStorage.setItem("cookiesAccepted",!0)}));
//# sourceMappingURL=index.67e3b02a.js.map
