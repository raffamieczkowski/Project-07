{"mappings":"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","sources":["src/js/modal-movie.js","src/js/api-key.js","src/js/genres.js","src/js/movies.js","src/js/search-film.js"],"sourcesContent":["const openModalBtn = document.querySelector('.movies-list');\r\nconst backdrop = document.querySelector('.backdrop');\r\nconst closeModalBtn = document.querySelector('.modal-movie__btn-close');\r\nopenModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.remove('is-hidden');\r\n});\r\ncloseModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.add('is-hidden');\r\n});","export const API_KEY = '4c48f56c563cad897bb4af72634cd546';\n","import { API_KEY } from '../js/api-key';\n\nasync function getGenres(movieId) {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    const movie = await response.json();\n    const genres = movie.genres.map(genre => genre.name).join(', ');\n    return genres;\n  } catch (error) {\n    console.error(error);\n    return '';\n  }\n}\n\nexport { getGenres };","import { API_KEY } from './api-key';\nimport { getGenres } from './genres';\nconst trendingUrl = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\nconst moviesEL = document.querySelector('.movies-list');\n\nasync function fetchMovies() {\n  try {\n    const response = await fetch(`${trendingUrl}&api_key=${API_KEY}&page=1`);\n    const data = await response.json();\n\n    const movies = data.results;\n\n    const genrePromises = movies.map(movie => getGenres(movie.id));\n    const genres = await Promise.all(genrePromises);\n\n    const markup = movies\n      .map((movie, index) => {\n        movie.genres = genres[index];\n        return `<div class=\"movie__card\">\n        <a href=\"#\"> <img class=\"movie__poster\" src=\"https://image.tmdb.org/t/p/original${\n          movie.poster_path\n        }\" /></a>\n        <ul class=\"movie__short-descr\">\n          <li class=\"movie__title\">${movie.original_title}</li>\n          <li class=\"movie__genre\">${movie.genres} | ${movie.release_date.slice(0, 4)}</li>\n        </ul>\n      </div>`;\n      })\n      .join('');\n\n    moviesEL.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfetchMovies();\n\nexport { fetchMovies };\n","import { API_KEY } from './api-key';\nimport { getGenres } from './genres';\nimport { fetchMovies } from './movies';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.header__form');\n  const input = document.querySelector('.form__input');\n  const resultContainer = document.querySelector('.result__container');\n  const searchButton = document.querySelector('.form__button');\n  const moviesEL = document.querySelector('.movies-list');\n\n  form.addEventListener('submit', handleFormSubmit);\n  searchButton.addEventListener('click', handleFormSubmit);\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    const searchTerm = input.value.trim();\n    if (searchTerm !== '') {\n      searchMovies(searchTerm);\n    } else {\n      resultContainer.innerHTML = '';\n      fetchMovies();\n    }\n  }\n\n  async function searchMovies(searchTerm) {\n    const apiKey = API_KEY;\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${encodeURIComponent(\n      searchTerm,\n    )}`;\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const movies = data.results;\n\n      const genrePromises = movies.map(movie => getGenres(movie.id));\n      const genres = await Promise.all(genrePromises);\n\n      movies.forEach((movie, index) => {\n        movie.genres = genres[index];\n      });\n\n      displayMovies(movies);\n      moviesEL.innerHTML = ``;\n    } catch (error) {\n      console.log('An error occurred:', error);\n    }\n  }\n\n  function displayMovies(results) {\n    resultContainer.innerHTML = '';\n\n    results.forEach(movie => {\n      const movieCard = createMovieCard(movie);\n      resultContainer.appendChild(movieCard);\n    });\n  }\n\n  function createMovieCard(movie) {\n    const movieCard = document.createElement('div');\n    movieCard.classList.add('movie__card');\n\n    const movieLink = document.createElement('a');\n    movieLink.href = '#';\n\n    const moviePoster = document.createElement('img');\n    moviePoster.classList.add('movie__poster');\n    moviePoster.src = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n    movieLink.appendChild(moviePoster);\n\n    const movieShortDescr = document.createElement('ul');\n    movieShortDescr.classList.add('movie__short-descr');\n\n    const movieTitle = document.createElement('li');\n    movieTitle.classList.add('movie__title');\n    movieTitle.textContent = movie.original_title;\n    movieShortDescr.appendChild(movieTitle);\n\n    const movieGenre = document.createElement('li');\n    movieGenre.classList.add('movie__genre');\n    movieGenre.textContent = `${movie.genres} | ${movie.release_date.slice(0, 4)}`;\n    movieShortDescr.appendChild(movieGenre);\n\n    movieCard.appendChild(movieLink);\n    movieCard.appendChild(movieShortDescr);\n\n    return movieCard;\n  }\n});\n"],"names":["$a898f20bd771b561$var$openModalBtn","document","querySelector","$a898f20bd771b561$var$backdrop","$a898f20bd771b561$var$closeModalBtn","addEventListener","classList","remove","add","$a576d362b369eae0$export$a9861bd62f48e142","async","$bc36aade2b53bb55$export$c5604fa8028da00","movieId","response","fetch","movie","json","genres","map","genre","name","join","error","console","$a1f1a4b90320e243$var$moviesEL","$a1f1a4b90320e243$export$88181abcadffafee","movies","results","genrePromises","id","Promise","all","markup","index","poster_path","original_title","release_date","slice","insertAdjacentHTML","form","input","resultContainer","searchButton","moviesEL","handleFormSubmit","event","preventDefault","searchTerm","value","trim","url","encodeURIComponent","forEach","innerHTML","movieCard","createElement","movieLink","href","moviePoster","src","appendChild","movieShortDescr","movieTitle","textContent","movieGenre","createMovieCard","log","searchMovies"],"version":3,"file":"index.6d3983f5.js.map"}