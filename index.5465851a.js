const e=document.querySelector(".movies-list"),t=document.querySelector(".backdrop"),i=document.querySelector(".modal-movie__btn-close");e.addEventListener("click",(()=>{t.classList.remove("is-hidden")})),i.addEventListener("click",(()=>{t.classList.add("is-hidden")}));const a="4c48f56c563cad897bb4af72634cd546";async function s(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${a}&language=en-US`),i=await t.json();return i.genres.map((e=>e.name)).join(", ")}catch(e){return console.error(e),""}}const n=document.querySelector(".movies-list");!async function(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?language=en-US&api_key=${a}&page=1`),t=(await e.json()).results,i=t.map((e=>s(e.id))),o=await Promise.all(i),c=t.map(((e,t)=>(e.genres=o[t],`<div class="movie__card">\n        <a href="#"> <img class="movie__poster" src="https://image.tmdb.org/t/p/original${e.poster_path}" /></a>\n        <ul class="movie__short-descr">\n          <li class="movie__title">${e.original_title}</li>\n          <li class="movie__genre">${e.genres} | ${e.release_date.slice(0,4)}</li>\n        </ul>\n      </div>`))).join("");n.insertAdjacentHTML("beforeend",c)}catch(e){console.error(e)}}();
//# sourceMappingURL=index.5465851a.js.map
