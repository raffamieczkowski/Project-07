{"mappings":"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","sources":["src/library.js","src/js/display-library.js","src/js/modal-library.js"],"sourcesContent":["import './js/modal-movie';\nimport './js/trailer';\nimport './js/cookies';\nimport './js/dark-mode';\nimport './js/display-library';\nimport './js/scroll';\nimport './js/footer-modal';\n","import { getPosterLink } from './poster';\nimport { openModal } from './modal-library';\n\nconst buttons = document.querySelector('.header-library__buttons-list');\nconst resultContainer = document.querySelector('.result__container');\n\n// Tworzenie elementu result__container--watched\nconst resultContainerWatched = document.createElement('div');\nresultContainerWatched.classList.add('result__container--watched');\nresultContainer.parentNode.insertBefore(resultContainerWatched, resultContainer.nextSibling);\n\nbuttons.addEventListener('click', e => {\n  if (e.target.classList.contains('header-library__buttons-item')) {\n    if (e.target.textContent === 'WATCHED') {\n      hideItem(resultContainer);\n      showItem(resultContainerWatched);\n      displayWatched();\n    }\n    if (e.target.textContent === 'QUEUE') {\n      hideItem(resultContainerWatched);\n      showItem(resultContainer);\n      displayQueue();\n    }\n  }\n});\n\nfunction hideItem(item) {\n  item.style.display = 'none';\n}\n\nfunction showItem(item) {\n  item.style.display = '';\n}\n\nfunction displayQueue() {\n  resultContainer.innerHTML = ''; // Usunięcie istniejących elementów\n  const queuedMovies = localStorage.getItem('queueList');\n  if (queuedMovies) {\n    const movieList = JSON.parse(queuedMovies);\n    movieList.forEach(movie => {\n      const movieCard = createMovieCard(movie);\n      resultContainer.appendChild(movieCard);\n    });\n  } else {\n    console.log('Brak filmów w kolejce.');\n  }\n}\n\nfunction displayWatched() {\n  resultContainerWatched.innerHTML = ''; // Usunięcie istniejących elementów\n  const watchedMovies = localStorage.getItem('watchedList');\n  if (watchedMovies) {\n    const movieList = JSON.parse(watchedMovies);\n    movieList.forEach(movie => {\n      const movieCard = createMovieCard(movie);\n      resultContainerWatched.appendChild(movieCard);\n    });\n  } else {\n    console.log('Brak obejrzanych filmów.');\n  }\n}\n\nfunction createMovieCard(movie) {\n  const movieCard = document.createElement('div');\n  movieCard.classList.add('movie__card');\n\n  const movieLink = document.createElement('a');\n  movieLink.href = '#';\n\n  const moviePoster = document.createElement('img');\n  moviePoster.classList.add('movie__poster');\n  moviePoster.src = `${getPosterLink(movie)}`;\n  movieLink.appendChild(moviePoster);\n\n  const movieShortDescr = document.createElement('ul');\n  movieShortDescr.classList.add('movie__short-descr');\n\n  const movieTitle = document.createElement('li');\n  movieTitle.classList.add('movie__title');\n  movieTitle.textContent = movie.original_title;\n  movieShortDescr.appendChild(movieTitle);\n\n  const movieGenre = document.createElement('li');\n  movieGenre.classList.add('movie__genre');\n  movieGenre.textContent = `${movie.genres} | ${movie.release_date.slice(0, 4)}`;\n  movieShortDescr.appendChild(movieGenre);\n\n  movieCard.appendChild(movieLink);\n  movieCard.appendChild(movieShortDescr);\n\n  moviePoster.addEventListener('click', e => {\n    e.preventDefault();\n    const backdrop = document.querySelector('.backdrop');\n    backdrop.classList.remove('is-hidden');\n    openModal(movie);\n  });\n\n  return movieCard;\n}\n\ndisplayQueue();\n","import { getPosterLink } from './poster';\n\nfunction createModal(movie) {\n  const modalMovieEl = document.querySelector('.modal-movie');\n  const backdrop = document.querySelector('.backdrop');\n\n  const markup = `\n    <div class=\"modal-movie__poster-box\">\n      <img class=\"modal-movie__poster\" src=${getPosterLink(movie)} alt=\"${movie.original_title}\" />\n    </div>\n    <button class=\"modal-movie__btn-close\">&times\n    </button>\n\n    <div class=\"modal-movie__info\">\n      <h2 class=\"modal-movie__title\">${movie.title}</h2>\n\n      <ul class=\"modal-movie__list\">\n        <li class=\"modal-movie__item modal-movie__item--label\">vote / votes</li>\n        <li class=\"modal-movie__item modal-movie__item--value\">\n          <span class=\"modal-movie__vote\">${movie.vote_average.toFixed(\n            1,\n          )}</span> <span>/ </span><span>${movie.vote_count}</span>\n        </li>\n        <li class=\"modal-movie__item modal-movie__item--label\">popularity</li>\n        <li class=\"modal-movie__item modal-movie__item--value\"><span class=\"modal-movie__popularity\">${movie.popularity.toFixed(\n          1,\n        )}</span></li>\n        <li class=\"modal-movie__item modal-movie__item--label\">original title</li>\n        <li class=\"modal-movie__item modal-movie__item--value\"><span class=\"modal-movie__original-title\">${\n          movie.original_title\n        }</span></li>\n        <li class=\"modal-movie__item modal-movie__item--label\">genre</li>\n        <li class=\"modal-movie__item modal-movie__item--value\"><span class=\"modal-movie__genre\">${\n          movie.genres\n        }</span></li>\n      </ul>\n      <div class=\"modal-movie__description\">\n        <h3 class=\"modal-movie__about\">about</h3>\n        <p class=\"modal-movie__text\">${movie.overview}</p>\n      </div>\n      \n      <div class=\"modal-movie__btns\">\n       <div class=\"modal-movie__box\"> \n       <button class=\"modal-movie__btn-watched\" data-movie='${JSON.stringify(\n         movie,\n       )}'>add to watched</button>\n        <button class=\"modal-movie__btn-queue\" data-movie='${JSON.stringify(\n          movie,\n        )}'>add to queue</button>\n      </div>\n  \n  <div class=\"modal-movie__trailer-box\"> \n  <button class=\"modal-movie__btn-trailer\" data-id=${\n    movie.id\n  } data-btn=watchTrailer type=\"button\">🎬 watch trailer</button>   \n  </div>        \n</div>\n    </div>\n  `;\n  modalMovieEl.innerHTML = markup;\n\n  const closeModalBtn = modalMovieEl.querySelector('.modal-movie__btn-close');\n  closeModalBtn.addEventListener('click', () => {\n    closeBackdrop();\n  });\n\n  backdrop.addEventListener('click', event => {\n    if (event.target === backdrop) {\n      closeBackdrop();\n    }\n  });\n\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      closeBackdrop();\n    }\n  });\n\n  function closeBackdrop() {\n    backdrop.classList.add('is-hidden');\n  }\n}\n\nfunction openModal(movie) {\n  const modal = createModal(movie);\n}\n\nexport { openModal };\n"],"names":["parcelRequire","$hHCHd","$e7f5dcb4379e869d$export$a7f6cffb6b8ba11c","movie","modalMovieEl","document","querySelector","backdrop","markup","getPosterLink","original_title","title","vote_average","toFixed","vote_count","popularity","genres","overview","JSON","stringify","id","closeBackdrop","classList","add","innerHTML","addEventListener","event","target","key","$e7f5dcb4379e869d$var$createModal","$d1538f3108108038$var$buttons","$d1538f3108108038$var$resultContainer","$d1538f3108108038$var$resultContainerWatched","createElement","$d1538f3108108038$var$hideItem","item","style","display","$d1538f3108108038$var$showItem","$d1538f3108108038$var$displayQueue","queuedMovies","localStorage","getItem","parse","forEach","movieCard","$d1538f3108108038$var$createMovieCard","appendChild","console","log","movieLink","href","moviePoster","src","movieShortDescr","movieTitle","textContent","movieGenre","release_date","slice","e","preventDefault","remove","parentNode","insertBefore","nextSibling","contains","watchedMovies","$d1538f3108108038$var$displayWatched"],"version":3,"file":"library.206c1a0f.js.map"}