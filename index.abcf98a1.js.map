{"mappings":"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","sources":["src/js/modal-movie.js","src/js/api-key.js","src/js/genres.js","src/js/search-film.js","src/js/pagination.js","src/js/movies.js"],"sourcesContent":["const openModalBtn = document.querySelector('.movies-list');\r\nconst backdrop = document.querySelector('.backdrop');\r\nconst closeModalBtn = document.querySelector('.modal-movie__btn-close');\r\nopenModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.remove('is-hidden');\r\n});\r\ncloseModalBtn.addEventListener('click', () => {\r\n  backdrop.classList.add('is-hidden');\r\n});","export const API_KEY = '4c48f56c563cad897bb4af72634cd546';\n","import { API_KEY } from '../js/api-key';\n\nasync function getGenres(movieId) {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    const movie = await response.json();\n    const genres = movie.genres.map(genre => genre.name).join(', ');\n    return genres;\n  } catch (error) {\n    console.error(error);\n    return '';\n  }\n}\n\nexport { getGenres };","import { API_KEY } from './api-key';\nimport { getGenres } from './genres';\nimport { createPagination } from './pagination';\nconst resultContainer = document.querySelector('.result__container');\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.header__form');\n  const input = document.querySelector('.form__input');\n\n  const searchButton = document.querySelector('.form__button');\n\n  form.addEventListener('submit', handleFormSubmit);\n  searchButton.addEventListener('click', handleFormSubmit);\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    const searchTerm = input.value.trim();\n    if (searchTerm !== '') {\n      searchMovies(searchTerm);\n    } else {\n      resultContainer.innerHTML = '';\n      fetchMovies();\n    }\n  }\n});\n\nasync function searchMovies(searchTerm) {\n  const apiKey = API_KEY;\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${encodeURIComponent(\n    searchTerm,\n  )}`;\n\n  (async () => {\n    createPagination(url);\n  })();\n}\n\nfunction displayMovies(results) {\n  resultContainer.innerHTML = '';\n\n  results.forEach(movie => {\n    const movieCard = createMovieCard(movie);\n    resultContainer.appendChild(movieCard);\n  });\n}\n\nfunction createMovieCard(movie) {\n  const movieCard = document.createElement('div');\n  movieCard.classList.add('movie__card');\n\n  const movieLink = document.createElement('a');\n  movieLink.href = '#';\n\n  const moviePoster = document.createElement('img');\n  moviePoster.classList.add('movie__poster');\n  moviePoster.src = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n  movieLink.appendChild(moviePoster);\n\n  const movieShortDescr = document.createElement('ul');\n  movieShortDescr.classList.add('movie__short-descr');\n\n  const movieTitle = document.createElement('li');\n  movieTitle.classList.add('movie__title');\n  movieTitle.textContent = movie.original_title;\n  movieShortDescr.appendChild(movieTitle);\n\n  const movieGenre = document.createElement('li');\n  movieGenre.classList.add('movie__genre');\n  movieGenre.textContent = `${movie.genres} | ${movie.release_date.slice(0, 4)}`;\n  movieShortDescr.appendChild(movieGenre);\n\n  movieCard.appendChild(movieLink);\n  movieCard.appendChild(movieShortDescr);\n\n  return movieCard;\n}\nexport { displayMovies };\n","import { displayMovies } from './search-film';\nimport { getGenres } from './genres';\n\nlet currentPage = 1;\nconst itemsPerPage = 20;\n\nfunction createPaginationButton(text, isDisabled, isCurrent) {\n  const button = document.createElement('button');\n  button.textContent = text;\n  button.disabled = isDisabled;\n  if (isCurrent) {\n    button.classList.add('pagination-button--current');\n  }\n  button.classList.add('pagination-button');\n  return button;\n}\n\nasync function createPagination(url) {\n  try {\n    const response = await fetch(`${url}&page=${currentPage}`);\n    console.log(response);\n    const data = await response.json();\n    const totalPages = Math.ceil(data.total_pages / itemsPerPage);\n    const genrePromises = data.results.map(movie => getGenres(movie.id));\n    const genres = await Promise.all(genrePromises);\n\n    data.results.forEach((movie, index) => {\n      movie.genres = genres[index];\n    });\n\n    displayMovies(data.results);\n    renderPagination(totalPages, url);\n  } catch (error) {\n    console.log('Error', error);\n  }\n}\n\nfunction renderPagination(totalPages, url) {\n  const paginationContainer = document.querySelector('.pagination-container');\n  paginationContainer.innerHTML = '';\n\n  const previousButton = createPaginationButton('<', currentPage === 1, false);\n  previousButton.addEventListener('click', async () => {\n    currentPage--;\n    await createPagination(url);\n  });\n  previousButton.classList.add('pagination-button--previous');\n  paginationContainer.appendChild(previousButton);\n\n  if (totalPages <= 7) {\n    for (let i = 1; i <= totalPages; i++) {\n      const pageButton = createPaginationButton(i.toString(), i === currentPage, i === currentPage);\n      pageButton.addEventListener('click', async () => {\n        currentPage = i;\n        await createPagination(url);\n      });\n      paginationContainer.appendChild(pageButton);\n    }\n  } else {\n    const firstPageButton = createPaginationButton('1', currentPage === 1, currentPage === 1);\n    firstPageButton.addEventListener('click', async () => {\n      currentPage = 1;\n      await createPagination(url);\n    });\n    paginationContainer.appendChild(firstPageButton);\n\n    let startPage = Math.max(2, currentPage - 2);\n    let endPage = Math.min(totalPages - 1, currentPage + 2);\n\n    if (currentPage <= 3) {\n      endPage = 5;\n    } else if (currentPage >= totalPages - 2) {\n      startPage = totalPages - 4;\n    }\n\n    if (startPage > 2) {\n      paginationContainer.appendChild(createPaginationButton('...', false));\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      const pageButton = createPaginationButton(i.toString(), i === currentPage, i === currentPage);\n      pageButton.addEventListener('click', async () => {\n        currentPage = i;\n        await createPagination(url);\n      });\n      paginationContainer.appendChild(pageButton);\n    }\n\n    if (endPage < totalPages - 1) {\n      paginationContainer.appendChild(createPaginationButton('...', false));\n    }\n\n    const lastPageButton = createPaginationButton(\n      totalPages.toString(),\n      currentPage === totalPages,\n      currentPage === totalPages,\n    );\n    lastPageButton.addEventListener('click', async () => {\n      currentPage = totalPages;\n      await createPagination(url);\n    });\n    paginationContainer.appendChild(lastPageButton);\n  }\n\n  const nextButton = createPaginationButton('>', currentPage === totalPages, false);\n  nextButton.addEventListener('click', async () => {\n    currentPage++;\n    await createPagination(url);\n  });\n  nextButton.classList.add('pagination-button--next');\n  paginationContainer.appendChild(nextButton);\n}\n\nexport { createPagination };\n","import { API_KEY } from './api-key';\nimport { getGenres } from './genres';\nimport { createPagination } from './pagination';\nconst trendingUrl = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\n\n(async () => {\n  createPagination(`${trendingUrl}&api_key=${API_KEY}`);\n})();\n"],"names":["$a898f20bd771b561$var$openModalBtn","document","querySelector","$a898f20bd771b561$var$backdrop","$a898f20bd771b561$var$closeModalBtn","addEventListener","classList","remove","add","$a576d362b369eae0$export$a9861bd62f48e142","async","$bc36aade2b53bb55$export$c5604fa8028da00","movieId","response","fetch","movie","json","genres","map","genre","name","join","error","console","$409b227334d5b635$var$resultContainer","$409b227334d5b635$export$80c33a899040816b","results","innerHTML","forEach","movieCard","createElement","movieLink","href","moviePoster","src","poster_path","appendChild","movieShortDescr","movieTitle","textContent","original_title","movieGenre","release_date","slice","$409b227334d5b635$var$createMovieCard","form","input","searchButton","handleFormSubmit","event","preventDefault","searchTerm","value","trim","url","encodeURIComponent","$baa48fd5a30d32e8$export$7f3155e3cda021fd","$409b227334d5b635$var$searchMovies","fetchMovies","$baa48fd5a30d32e8$var$currentPage","$baa48fd5a30d32e8$var$createPaginationButton","text","isDisabled","isCurrent","button","disabled","log","data","totalPages","Math","ceil","total_pages","genrePromises","id","Promise","all","index","paginationContainer","previousButton","i","pageButton","toString","firstPageButton","startPage","max","endPage","min","lastPageButton","nextButton","$baa48fd5a30d32e8$var$renderPagination"],"version":3,"file":"index.abcf98a1.js.map"}