function e(e){return null==e.poster_path?"https://img.freepik.com/darmowe-zdjecie/kolaz-w-tle-filmu_23-2149876032.jpg?w=740&t=st=1685302200~exp=1685302800~hmac=8c53b6db3490cd10fa6f9535b417ac3d7181839ed50758564abb2784f02a1611":`https://image.tmdb.org/t/p/original${e.poster_path}`}function t(t){!function(t){const n=document.querySelector(".modal-movie"),o=document.querySelector(".backdrop"),i=`\n    <div class="modal-movie__poster-box">\n      <img class="modal-movie__poster" src=${e(t)} alt="${t.original_title}" />\n    </div>\n    <button class="modal-movie__btn-close">&times\n    </button>\n\n    <div class="modal-movie__info">\n      <h2 class="modal-movie__title">${t.title}</h2>\n\n      <ul class="modal-movie__list">\n        <li class="modal-movie__item modal-movie__item--label">vote / votes</li>\n        <li class="modal-movie__item modal-movie__item--value">\n          <span class="modal-movie__vote">${t.vote_average.toFixed(1)}</span> <span>/ </span><span>${t.vote_count}</span>\n        </li>\n        <li class="modal-movie__item modal-movie__item--label">popularity</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__popularity">${t.popularity.toFixed(1)}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">original title</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__original-title">${t.original_title}</span></li>\n        <li class="modal-movie__item modal-movie__item--label">genre</li>\n        <li class="modal-movie__item modal-movie__item--value"><span class="modal-movie__genre">${t.genres}</span></li>\n      </ul>\n      <div class="modal-movie__description">\n        <h3 class="modal-movie__about">about</h3>\n        <p class="modal-movie__text">${t.overview}</p>\n      </div>\n      \n      <div class="modal-movie__btns">\n       <div class="modal-movie__box"> \n        <button class="modal-movie__btn-watched">add to watched</button>\n        <button class="modal-movie__btn-queue" data-id='${t.id}' data-title='${t.title}' data-date='${t.release_date.slice(0,4)}' data-genres='${t.genres}'>add to queue</button>\n      </div>\n  \n  <div class="modal-movie__trailer-box"> \n  <button class="modal-movie__btn-trailer" data-id=${t.id} data-btn=watchTrailer type="button">ðŸŽ¬ <span class="modal-movie__trailer-text">watch trailer</span></button>   \n  </div>        \n</div>\n    </div>\n  `;function a(){o.classList.add("is-hidden")}n.innerHTML=i,n.querySelector(".modal-movie__btn-close").addEventListener("click",(()=>{a()})),o.addEventListener("click",(e=>{e.target===o&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()}))}(t)}var n={};n=function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){var l=void 0;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var r=new Error("Cannot find module '"+s+"'");throw r.code="MODULE_NOT_FOUND",r}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return i(t[s][1][e]||e)}),d,d.exports,e,t,n,o)}return n[s].exports}for(var a=void 0,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},i=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},a=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=a,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),a=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return a.appendChild(e)}));var s=i(a,"IMG"),c=i(a,"VIDEO"),l=i(a,"IFRAME");return!0===s&&n.classList.add("basicLightbox--img"),!0===c&&n.classList.add("basicLightbox--video"),!0===l&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),s=function(e){return!1!==t.onClose(c)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===a(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(c)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&s()}));var c={element:function(){return n},visible:function(){return a(n)},show:function(e){return!1!==t.onShow(c)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(c)}))},close:s};return c}},{}]},{},[1])(1);const o="4c48f56c563cad897bb4af72634cd546",i=e=>{"Escape"===e.code&&modal.close(),window.removeEventListener("keydown",i)};document.addEventListener("click",(async e=>{if(e.target.classList.contains("modal-movie__btn-trailer")){const t=e.target.dataset.id;await a(t)}}));const a=async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${o}&append_to_response=videos`),a=(await t.json()).videos.results[0].key;n.create(`\n    <iframe width="750" height="475" src="https://www.youtube.com/embed/${a}" frameborder="0" allowfullscreen></iframe>\n  `).show(),window.addEventListener("keydown",i)},s=document.querySelector(".result__container");function c(n){s.innerHTML="",n.forEach((n=>{const o=function(n){const o=document.createElement("div");o.classList.add("movie__card");const i=document.createElement("a");i.href="#";const a=document.createElement("img");a.classList.add("movie__poster"),a.src=`${e(n)}`,i.appendChild(a);const s=document.createElement("ul");s.classList.add("movie__short-descr");const c=document.createElement("li");c.classList.add("movie__title"),c.textContent=n.original_title,s.appendChild(c);const l=document.createElement("li");return l.classList.add("movie__genre"),l.textContent=`${n.genres} | ${n.release_date.slice(0,4)}`,s.appendChild(l),o.appendChild(i),o.appendChild(s),a.addEventListener("click",(e=>{e.preventDefault();document.querySelector(".backdrop").classList.remove("is-hidden"),t(n)})),o}(n);s.appendChild(o)}))}async function l(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${o}&language=en-US`),n=await t.json();return n.genres.map((e=>e.name)).join(", ")}catch(e){return console.error(e),""}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header__form"),t=document.querySelector(".form__input"),n=document.querySelector(".form__button");function i(e){e.preventDefault();const n=t.value.trim();""!==n?async function(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=${o}&query=${encodeURIComponent(e)}`;u(1),(async()=>{m(t)})()}(n):(s.innerHTML="",u(1),v())}e.addEventListener("submit",i),n.addEventListener("click",i)}));let r=1;function d(e,t,n){const o=document.createElement("button");return o.textContent=e,o.disabled=t,o.addEventListener("click",(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})})),n&&o.classList.add("pagination-button--current"),o.classList.add("pagination-button"),o}async function m(e){try{const t=await fetch(`${e}&page=${r}`),n=await t.json(),o=Math.ceil(n.total_pages/20),i=n.results.map((e=>l(e.id))),a=await Promise.all(i);n.results.forEach(((e,t)=>{e.genres=a[t]})),c(n.results),function(e,t){const n=document.querySelector(".pagination-container");n.innerHTML="";const o=d("ðŸ¡¨",1===r,!1);if(o.addEventListener("click",(async()=>{r--,await m(t)})),o.classList.add("pagination-button--previous"),n.appendChild(o),e<=7)for(let o=1;o<=e;o++){const e=d(o.toString(),o===r,o===r);e.addEventListener("click",(async()=>{r=o,await m(t)})),n.appendChild(e)}else{if(window.screen.width>=768){const e=d("1",1===r,1===r);e.addEventListener("click",(async()=>{r=1,await m(t)})),n.appendChild(e)}let o=Math.max(2,r-2),i=Math.min(e-1,r+2);window.screen.width<768&&(o=Math.max(1,r-2),i=Math.min(e,r+2)),r<=3?i=5:r>=e-2&&(o=e-4),window.screen.width>=768&&o>2&&n.appendChild(d("...",!0));for(let e=o;e<=i;e++){const o=d(e.toString(),e===r,e===r);o.addEventListener("click",(async()=>{r=e,await m(t)})),n.appendChild(o)}if(window.screen.width>=768){i<e-1&&n.appendChild(d("...",!0));const o=d(e.toString(),r===e,r===e);o.addEventListener("click",(async()=>{r=e,await m(t)})),n.appendChild(o)}}const i=d("ðŸ¡ª",r===e,!1);i.addEventListener("click",(async()=>{r++,await m(t)})),i.classList.add("pagination-button--next"),n.appendChild(i)}(o,e)}catch(e){console.log("Error",e)}}function u(e){r=e}async function v(){m(`https://api.themoviedb.org/3/trending/movie/day?language=en-US&api_key=${o}`)}v();function p(){const e=localStorage.getItem("movieList");return JSON.parse(e)}document.querySelector(".modal-movie").addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("modal-movie__btn-queue")){const e={id:t.dataset.id,title:t.dataset.title,date:t.dataset.date,genres:t.dataset.genres};!function(e){!function(e){const t=p()||[],n=t.find((t=>t.id===e.id));if(n)console.log("Ten film juÅ¼ istnieje na liÅ›cie.");else{t.push(e);const n=JSON.stringify(t);localStorage.setItem("movieList",n),console.log("Film zostaÅ‚ zapisany w localStorage.")}}(e)}(e),p().forEach((e=>{console.log(e.title)}))}}));const _=document.querySelector(".header__toggle"),f=document.body;localStorage.getItem("darkModeEnabled")&&f.classList.add("dark-mode"),_.addEventListener("click",(e=>{e.preventDefault(),f.classList.toggle("dark-mode");const t=f.classList.contains("dark-mode");localStorage.setItem("darkModeEnabled",t)}));const h=document.querySelector(".cookies"),b=document.querySelector("#accept-cookies");document.addEventListener("DOMContentLoaded",(function(){sessionStorage.getItem("cookiesAccepted")?h.style.display="none":setTimeout((()=>{h.style.display="block"}),3e3)})),b.addEventListener("click",(function(){h.style.display="none",sessionStorage.setItem("cookiesAccepted",!0)}));
//# sourceMappingURL=index.eb04a95e.js.map
